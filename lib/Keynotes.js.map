{"version":3,"sources":["webpack://keynotes/webpack/universalModuleDefinition","webpack://keynotes/webpack/bootstrap","webpack://keynotes/./src/NoteObject.js","webpack://keynotes/./src/Note.js","webpack://keynotes/external \"lodash.isfunction\"","webpack://keynotes/./src/binarySearch.js","webpack://keynotes/./src/index.js","webpack://keynotes/external \"lodash.clonedeep\"","webpack://keynotes/external \"lodash.clonedeepwith\"","webpack://keynotes/external \"lodash.clone\"","webpack://keynotes/external \"lodash.difference\"","webpack://keynotes/./src/easing.js","webpack://keynotes/./src/Keynotes.js","webpack://keynotes/external \"lodash.isplainobject\"","webpack://keynotes/external \"lodash.isstring\"","webpack://keynotes/external \"lodash.find\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__13__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_cloneDeep","NoteObject","object3D","options","_classCallCheck","this","Array","isArray","_isPlural","concat","getObject","_isFunction","_cloneDeepWith","_difference","easing","binarySearch","Note","_ref","_this","object_options","beforeBuild","afterDestroy","object_names","keys","map","object_name","validateSpec","_split","start","end","_split_records","transition_duration","segments","obj_name","computeSplit","split_records_unique","sort","a","b","Number","segment_stack","prev_start","_ref2","_ref3","_slicedToArray","prop_key","spec","_objectSpread","_defineProperty","Spec","slice","tick","push","object_prop_spec","_ref4","_ref5","length","_ref6","_ref7","prop_timelines","_this2","Math","max","_ref8","objects","_this3","object_prop_idx","getSegmentIdx","prop","getObjectAsArray","item","index","target_animation","prop_chain","split","calculateAnimation","error","console","log","target","val","Map","set","apply","e","item_index","from","to","optional_easing","target_prop","undefined","join","duration","relative_tick","eval_from","eval_to","handleAssignMap","isNaN","reduce","prev_spec","list","cmp","stop","middle","floor","eq","Keynotes","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","linear","_isPlainObject","_isString","_find","note_objects","notes","note_order","time","current_animation","start_time","journey_extract_to","journey_duration","journey_tree","journey","journey_segment_counter","forward","note","lock","recent_journey","afterAnimation","recent_note","raiseException","arguments","getNoteObject","new_noteobj","note_name","new_note","order","filter","note_count","noteStr_or_noteObj","notename","String","findNoteByName","beforeAnimation","_startNote","_ref2$beforeAnimation","_ref2$afterAnimation","target_note","indexOf","prev_idx","next_idx","idx","j","reverse","calculateJourneyDuration","acc","curr","journey_duration_each","journey_duration_each_acc","ret","toString","segment_idx","seek","target_journey_idx","_this$current_animati","new_journey_segment_counter","segments_outof_terminate","seekUntil","_this$current_animati2","journey_tick","target_note_tick"],"mappings":"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","file":"keynotes.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash.isfunction\"), require(\"lodash.clonedeep\"), require(\"lodash.clonedeepwith\"), require(\"lodash.clone\"), require(\"lodash.difference\"), require(\"lodash.isplainobject\"), require(\"lodash.isstring\"), require(\"lodash.find\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"keynotes\", [\"lodash.isfunction\", \"lodash.clonedeep\", \"lodash.clonedeepwith\", \"lodash.clone\", \"lodash.difference\", \"lodash.isplainobject\", \"lodash.isstring\", \"lodash.find\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"keynotes\"] = factory(require(\"lodash.isfunction\"), require(\"lodash.clonedeep\"), require(\"lodash.clonedeepwith\"), require(\"lodash.clone\"), require(\"lodash.difference\"), require(\"lodash.isplainobject\"), require(\"lodash.isstring\"), require(\"lodash.find\"));\n\telse\n\t\troot[\"keynotes\"] = factory(root[\"lodash.isfunction\"], root[\"lodash.clonedeep\"], root[\"lodash.clonedeepwith\"], root[\"lodash.clone\"], root[\"lodash.difference\"], root[\"lodash.isplainobject\"], root[\"lodash.isstring\"], root[\"lodash.find\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__8__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__13__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","const _cloneDeep = require(\"lodash.clonedeep\");\n\nclass NoteObject {\n  constructor(name, object3D, options) {\n    this.name = name;\n    this.object3D = Array.isArray(object3D) ? object3D : [object3D];\n    this._isPlural = Array.isArray(object3D) ? true : false;\n  }\n  getObject() {\n    return this._isPlural ? this.object3D : this.object3D[0];\n  }\n  getObjectAsArray() {\n    return this.object3D;\n  }\n  clone() {\n    return new NoteObject(\n      `__clone__${this.name}`,\n      _cloneDeep(this.getObject())\n    );\n  }\n}\n\nmodule.exports = NoteObject;\n","const _isFunction = require(\"lodash.isfunction\");\nconst _cloneDeepWith = require(\"lodash.clonedeepwith\");\nconst _clone = require(\"lodash.clone\");\nconst _difference = require(\"lodash.difference\");\nconst easing = require(\"./easing\");\nconst binarySearch = require(\"./binarySearch\");\n\nclass Note {\n  constructor(name, { object_options, beforeBuild, afterDestroy }) {\n    // Validation\n    const object_names = Object.keys(object_options);\n    object_names.map(object_name => {\n      Note.validateSpec(object_options[object_name]);\n    });\n\n    // BUILD / DESTROY SETTINGS\n    this.beforeBuild = _isFunction(beforeBuild) ? beforeBuild : function() {};\n    this.afterDestroy = _isFunction(afterDestroy)\n      ? afterDestroy\n      : function() {};\n\n    // Split object as segment\n    this._split = { start: {}, end: {} };\n    this._split_records = {};\n    this.transition_duration = 0;\n    this.segments = [];\n    object_names.map(obj_name => {\n      this.computeSplit(obj_name, object_options[obj_name]);\n    });\n    const split_records_unique = Object.keys(this._split_records).sort(\n      (a, b) => {\n        if (Number(a) === -1) return 1;\n        if (Number(b) === -1) return -1;\n        return Number(a) < Number(b) ? -1 : Number(a) > Number(b) ? 1 : 0;\n      }\n    );\n    let segment_stack = {};\n    let prev_start = split_records_unique[0];\n    this._split.start[prev_start].map(([object_name, prop_key, spec]) => {\n      // Guarantee that first keyframe is start\n      segment_stack[object_name] = {\n        ...segment_stack[object_name],\n        [prop_key]: new Spec(spec) // pure object(from and to could be function)\n      };\n    });\n    split_records_unique.slice(1).map(tick => {\n      this.segments.push({\n        start: prev_start,\n        end: tick,\n        object_prop_spec: _cloneDeepWith(segment_stack, value => {\n          if (value instanceof Spec) {\n            return value;\n          }\n        })\n      });\n      prev_start = tick;\n      if (this._split.end.hasOwnProperty(tick)) {\n        this._split.end[tick].map(([object_name, prop_key, spec]) => {\n          delete segment_stack[object_name][prop_key];\n          if (Object.keys(segment_stack[object_name]).length === 0) {\n            delete segment_stack[object_name];\n          }\n        });\n      }\n      if (this._split.start.hasOwnProperty(tick)) {\n        this._split.start[tick].map(([object_name, prop_key, spec]) => {\n          segment_stack[object_name] = {\n            ...segment_stack[object_name],\n            [prop_key]: new Spec(spec)\n          };\n        });\n      }\n    });\n\n    this.name = name;\n    this.object_options = object_options;\n  }\n\n  /**\n   * CHECK VALIDATION\n   * 1. Spec Key validation\n   * 2. Keyframe Overlap validation\n   * @param {*} prop_timelines\n   */\n  static validateSpec(prop_timelines) {\n    const prop_keys = Object.keys(prop_timelines);\n    prop_keys.map(prop_key => {\n      if (\n        !Array.isArray(prop_timelines[prop_key]) ||\n        prop_timelines[prop_key].length === 0\n      ) {\n        console.error(\"Given animation spec should be non-empty array.\");\n        throw \"Given animation spec should be non-empty array.\";\n        console.trace();\n      }\n      prop_timelines[prop_key].reduce((prev_spec, spec) => {\n        if (\n          _difference([\"start\", \"end\", \"from\", \"to\"], Object.keys(spec))\n            .length > 0\n        ) {\n          console.error(\n            `Keys are required: ${[\"start\", \"end\", \"from\", \"to\"].join(\n              \", \"\n            )}. (Given key: ${Object.keys(spec).join(\", \")})`\n          );\n          throw `Keys are required: ${[\"start\", \"end\", \"from\", \"to\"].join(\n            \", \"\n          )}.`;\n          console.trace();\n        }\n        if (\n          prev_spec.end > spec.start ||\n          prev_spec.end < 0 || // spec.end must assign only if it is last spec of current prop.\n          (spec.end != -1 && spec.start >= spec.end) // spec.end can be -1 when if it is looping function.\n        ) {\n          console.error(\n            `Given start and end compute error: ${spec.start}, ${spec.end}`\n          );\n          throw \"Given start and end compute error\";\n          console.trace();\n        }\n        return spec;\n      });\n    });\n  }\n\n  /**\n   * SPLIT PREPROCESSING\n   * @param {*} object_name\n   * @param {*} prop_timelines\n   */\n  computeSplit(object_name, prop_timelines) {\n    const prop_keys = Object.keys(prop_timelines);\n    prop_keys.map(prop_key => {\n      prop_timelines[prop_key].map(spec => {\n        if (!this._split.start.hasOwnProperty(spec.start)) {\n          this._split.start[spec.start] = [];\n        }\n        if (!this._split.end.hasOwnProperty(spec.end)) {\n          this._split.end[spec.end] = [];\n        }\n        this._split_records[spec.start] = 1;\n        this._split_records[spec.end] = 1;\n        this._split.start[spec.start].push([object_name, prop_key, spec]); // Store spec as itself (conserve functional format)\n        this._split.end[spec.end].push([object_name, prop_key, spec]); // Store spec as itself (conserve functional format)\n        this.transition_duration = Math.max(this.transition_duration, spec.end);\n      });\n    });\n  }\n\n  getSegmentIdx(tick) {\n    return binarySearch(this.segments, tick, ({ start, end }, tick) => {\n      if (start <= tick && (tick < end || end < 0)) {\n        return 0;\n      } else {\n        if (tick < start) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    });\n  }\n\n  /**\n   * SEEK AND COMPUTE EACH MESH'S APPEARANCE\n   * @param {Number} tick\n   * @param {[NoteObject]} objects\n   */\n  seek(tick, objects) {\n    const object_prop_idx = this.getSegmentIdx(tick);\n    if (object_prop_idx === -1) return;\n    const object_prop = this.segments[object_prop_idx];\n    const object_prop_spec = object_prop.object_prop_spec;\n    const object_names = Object.keys(object_prop_spec);\n    object_names.map(name => {\n      const target_props = Object.keys(object_prop_spec[name]);\n      target_props.map(prop => {\n        try {\n          objects[name].getObjectAsArray().map((item, index) => {\n            const target_animation = object_prop_spec[name][prop].spec;\n            const prop_chain = prop.split(\".\");\n            this.calculateAnimation(\n              tick,\n              target_animation,\n              prop_chain,\n              item,\n              index\n            );\n          });\n        } catch (error) {\n          console.log(objects, name, object_prop_spec[name]);\n          throw error;\n          console.trace();\n        }\n      });\n    });\n  }\n\n  handleAssignMap(target, prop, val) {\n    if (target instanceof Map) {\n      target.set(prop, val);\n    } else if (_isFunction(target[prop])) {\n      try {\n        target[prop].apply(target, val);\n      } catch (e) {\n        console.error(e);\n        console.log(target, prop);\n      }\n    } else {\n      try {\n        target[prop] = val;\n      } catch (e) {\n        console.error(e);\n        console.log(target, prop);\n      }\n    }\n  }\n\n  /**\n   * CALCULATE AND ASSIGN VALUE TO EACH OBJECT USING TICK(RELATIVE)\n   * @param {*} tick\n   * @param {*} target_animation\n   * @param {*} prop_chain\n   * @param {*} target_prop\n   */\n  calculateAnimation(tick, target_animation, prop_chain, item, item_index) {\n    const { start, end, from, to, easing: optional_easing } = target_animation;\n    let target_prop = item;\n    for (let i = 0; i < prop_chain.length; i++) {\n      if (\n        target_prop[prop_chain[i]] === undefined &&\n        (target_prop.get === undefined ||\n          target_prop.get(prop_chain[i]) === undefined) &&\n        i != prop_chain.length - 1\n      ) {\n        console.error(`Object does not have property: ${prop_chain.join(\"-\")}`);\n        throw `Object does not have property: ${prop_chain.join(\"-\")}`;\n        console.trace();\n      }\n      if (i < prop_chain.length - 1) {\n        // prevent losing reference\n        target_prop =\n          target_prop[prop_chain[i]] || target_prop.get(prop_chain[i]);\n      }\n    }\n\n    const duration = end - start;\n    const relative_tick = tick - start;\n    let eval_from = from;\n    let eval_to = to;\n    if (_isFunction(from)) {\n      eval_from = from(\n        relative_tick,\n        item,\n        item_index,\n        this.transition_duration\n      );\n    }\n    if (_isFunction(to)) {\n      eval_to = to(\n        relative_tick,\n        item,\n        item_index,\n        this.transition_duration,\n        eval_from\n      ); //additional param: eval_from\n    }\n    if (relative_tick === 0) {\n      this.handleAssignMap(\n        target_prop,\n        prop_chain[prop_chain.length - 1],\n        eval_from\n      );\n    } else {\n      if (target_animation.hasOwnProperty(\"easing\")) {\n        if (_isFunction(optional_easing)) {\n          this.handleAssignMap(\n            target_prop,\n            prop_chain[prop_chain.length - 1],\n            optional_easing(\n              relative_tick,\n              eval_from,\n              eval_to - eval_from,\n              duration,\n              item_index\n            )\n          );\n        } else if (easing.hasOwnProperty(optional_easing)) {\n          // Use built-in function.\n          this.handleAssignMap(\n            target_prop,\n            prop_chain[prop_chain.length - 1],\n            easing[optional_easing](\n              relative_tick,\n              eval_from,\n              eval_to - eval_from,\n              duration\n            )\n          );\n        } else if (optional_easing === true) {\n          this.handleAssignMap(\n            target_prop,\n            prop_chain[prop_chain.length - 1],\n            ((eval_to - eval_from) / duration) * relative_tick + eval_from\n          );\n        } else if (optional_easing === false) {\n          this.handleAssignMap(\n            target_prop,\n            prop_chain[prop_chain.length - 1],\n            eval_to\n          );\n        } else {\n          console.error(\"Defined easing does not match: function or string\");\n          throw \"Defined easing does not match: function or string\";\n          console.trace();\n        }\n      } else {\n        //use linear function.\n        this.handleAssignMap(\n          target_prop,\n          prop_chain[prop_chain.length - 1],\n          ((eval_to - eval_from) / duration) * relative_tick + eval_from\n        );\n      }\n    }\n    if (Number.isNaN(target_prop[prop_chain[prop_chain.length - 1]])) {\n      console.error(target_prop, val);\n      throw \"nan\";\n      console.trace();\n    }\n  }\n\n  toString() {\n    return this.name;\n  }\n}\n\nclass Spec {\n  constructor(spec) {\n    this.spec = spec;\n  }\n}\n\nmodule.exports = Note;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","function binarySearch(list, value, cmp) {\n  // initial values for start, middle and end\n  let start = 0;\n  let stop = list.length - 1;\n  let middle = Math.floor((start + stop) / 2);\n\n  // While the middle is not what we're looking for and the list does not have a single item\n  let eq = cmp(list[middle], value);\n  while (eq !== 0 && start < stop) {\n    if (eq < 0) {\n      stop = middle - 1;\n    } else {\n      start = middle + 1;\n    }\n\n    // recalculate middle on every iteration\n    middle = Math.floor((start + stop) / 2);\n    eq = cmp(list[middle], value);\n  }\n\n  // if the current middle item is what we're looking for return it's index, else return -1\n  return cmp(list[middle], value) !== 0 ? -1 : middle;\n}\n\nmodule.exports = binarySearch;\n","const NoteObject = require(\"./NoteObject\");\nconst Note = require(\"./Note\");\nconst Keynotes = require(\"./Keynotes\");\n\nmodule.exports = {\n  Note: Note,\n  NoteObject: NoteObject,\n  Keynotes: Keynotes\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","/**\n * From jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n */\nconst easing = {\n  easeInQuad: function(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, c, d) {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t + b;\n    return (-c / 2) * (--t * (t - 2) - 1) + b;\n  },\n  easeInCubic: function(t, b, c, d) {\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, c, d) {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t + b;\n    return (c / 2) * ((t -= 2) * t * t + 2) + b;\n  },\n  easeInQuart: function(t, b, c, d) {\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, c, d) {\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, c, d) {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t * t + b;\n    return (-c / 2) * ((t -= 2) * t * t * t - 2) + b;\n  },\n  easeInQuint: function(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, c, d) {\n    if ((t /= d / 2) < 1) return (c / 2) * t * t * t * t * t + b;\n    return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n  easeInSine: function(t, b, c, d) {\n    return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, c, d) {\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, c, d) {\n    return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, c, d) {\n    return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, c, d) {\n    return t == d ? b + c : c * (-Math.pow(2, (-10 * t) / d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, c, d) {\n    if (t == 0) return b;\n    if (t == d) return b + c;\n    if ((t /= d / 2) < 1) return (c / 2) * Math.pow(2, 10 * (t - 1)) + b;\n    return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b;\n  },\n  easeInCirc: function(t, b, c, d) {\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, c, d) {\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, c, d) {\n    if ((t /= d / 2) < 1) return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b;\n    return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n  },\n  easeInElastic: function(t, b, c, d) {\n    var s = 1.70158;\n    var p = 0;\n    var a = c;\n    if (t == 0) return b;\n    if ((t /= d) == 1) return b + c;\n    if (!p) p = d * 0.3;\n    if (a < Math.abs(c)) {\n      a = c;\n      var s = p / 4;\n    } else var s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    return (\n      -(\n        a *\n        Math.pow(2, 10 * (t -= 1)) *\n        Math.sin(((t * d - s) * (2 * Math.PI)) / p)\n      ) + b\n    );\n  },\n  easeOutElastic: function(t, b, c, d) {\n    var s = 1.70158;\n    var p = 0;\n    var a = c;\n    if (t == 0) return b;\n    if ((t /= d) == 1) return b + c;\n    if (!p) p = d * 0.3;\n    if (a < Math.abs(c)) {\n      a = c;\n      var s = p / 4;\n    } else var s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    return (\n      a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n      c +\n      b\n    );\n  },\n  easeInOutElastic: function(t, b, c, d) {\n    var s = 1.70158;\n    var p = 0;\n    var a = c;\n    if (t == 0) return b;\n    if ((t /= d / 2) == 2) return b + c;\n    if (!p) p = d * (0.3 * 1.5);\n    if (a < Math.abs(c)) {\n      a = c;\n      var s = p / 4;\n    } else var s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    if (t < 1)\n      return (\n        -0.5 *\n          (a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n        b\n      );\n    return (\n      a *\n        Math.pow(2, -10 * (t -= 1)) *\n        Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      c +\n      b\n    );\n  },\n  easeInBack: function(t, b, c, d) {\n    var s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, c, d) {\n    var s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, c, d) {\n    var s = 1.70158;\n    if ((t /= d / 2) < 1)\n      return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n  easeInBounce: function(t, b, c, d) {\n    return c - easeOutBounce(d - t, 0, c, d) + b;\n  },\n  easeOutBounce: function(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, c, d) {\n    if (t < d / 2) return easeInBounce(t * 2, 0, c, d) * 0.5 + b;\n    return easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n  },\n  linear: function(t, b, c, d) {\n    return b + (c * t) / d;\n  }\n};\n\nmodule.exports = easing;\n","const _isFunction = require(\"lodash.isfunction\");\nconst _isPlainObject = require(\"lodash.isplainobject\");\nconst _isString = require(\"lodash.isstring\");\nconst _find = require(\"lodash.find\");\nconst binarySearch = require(\"./binarySearch\");\nconst NoteObject = require(\"./NoteObject\");\nconst Note = require(\"./Note\");\n\nclass Keynotes {\n  constructor() {\n    // NOTE OBJECT\n    this.note_objects = {};\n\n    // NOTE\n    this.notes = {};\n    this.note_order = [];\n\n    // CURSOR\n    this.time = 0.0; // world time. constantly increase\n    this.current_animation = {\n      start_time: 0.0, // start time of current animation\n      journey_extract_to: 2.0, // objective duration of journeys\n      journey_duration: 0.0, // total duration of journeys\n      journey_tree: [], // for binary search of journey tick\n      journey: [], // journey list(Array of Note object)\n      journey_segment_counter: [], // journey segment visit check\n      forward: true, // only when if note is after of recent_note\n      note: null, // target note\n      lock: false, // prevent interruption\n      recent_journey: null, // note destroied right before curr journey\n      afterAnimation: function() {} // user define function\n    };\n    this.recent_note = null;\n  }\n\n  getNoteObject(name, raiseException = true) {\n    if (this.note_objects.hasOwnProperty(name)) {\n      return this.note_objects[name];\n    } else {\n      if (raiseException) {\n        console.error(`note object not found: ${name}`);\n        throw \"note object not found\";\n        console.trace();\n      } else {\n        return null;\n      }\n    }\n  }\n\n  /**\n   * ENROLL NOTE OBJECT TO KEYNOTE\n   * @param {*} name\n   * @param {Object|[Object]} object3D\n   * @param {*} param2\n   */\n  addNoteObject(name, object3D) {\n    if (this.getNoteObject(name, false) !== null) {\n      console.error(\"duplicated note object name\");\n      throw \"duplicated note object name\";\n      console.trace();\n    } else {\n      const new_noteobj = new NoteObject(name, object3D);\n      this.note_objects[name] = new_noteobj;\n      return new_noteobj;\n    }\n  }\n\n  /**\n   * ENROLL NOTE TO KEYNOTE\n   * @param {*} note_name\n   * @param {*} param1\n   */\n  addNote(note_name, { object_options, beforeBuild, afterDestroy }) {\n    if (this.notes.hasOwnProperty(note_name)) {\n      console.error(\"duplicated note name\");\n      throw \"duplicated note name\";\n      console.trace();\n    }\n    const new_note = new Note(note_name, {\n      object_options,\n      beforeBuild,\n      afterDestroy\n    });\n    this.notes[note_name] = new_note;\n    return new_note;\n  }\n\n  /**\n   * SET ORDER BETWEEN NOTES\n   * @param {*} order\n   */\n  setNoteOrder(order) {\n    if (\n      !Array.isArray(order) ||\n      order.filter(note => !(note instanceof NoteObject || _isString(note)))\n        .length > 0\n    ) {\n      console.error(\n        \"Order should be passed as array of Note instance or note name(String)\"\n      );\n      throw \"Order should be passed as array of Note instance or note name(String)\";\n      console.trace();\n    } else {\n      // check if duplicate note name exist\n      let note_count = {};\n      this.note_order = order.map(noteStr_or_noteObj => {\n        const notename = String(noteStr_or_noteObj);\n        if (note_count.hasOwnProperty(notename)) {\n          console.error(\"Given note name was duplicated in list\");\n          throw \"Given note name was duplicated in list\";\n          console.trace();\n        } else if (!this.notes.hasOwnProperty(notename)) {\n          console.error(\"Given note name doesn't exist\");\n          throw \"Given note name doesn't exist\";\n          console.trace();\n        } else {\n          note_count[notename] = 1;\n          return this.findNoteByName(notename);\n        }\n      });\n    }\n  }\n  startNote(noteStr_or_noteObj, options) {\n    if (options === undefined || options === null || !_isPlainObject(options)) {\n      this._startNote(noteStr_or_noteObj, {\n        beforeAnimation: function() {},\n        afterAnimation: function() {}\n      });\n    } else {\n      if (!options.hasOwnProperty(\"beforeAnimation\")) {\n        options = { ...options, beforeAnimation: function() {} };\n      }\n      if (!options.hasOwnProperty(\"afterAnimation\")) {\n        options = { ...options, afterAnimation: function() {} };\n      }\n      this._startNote(noteStr_or_noteObj, options);\n    }\n  }\n  _startNote(\n    noteStr_or_noteObj,\n    { beforeAnimation = function() {}, afterAnimation = function() {} }\n  ) {\n    const notename = String(noteStr_or_noteObj);\n    const target_note = this.findNoteByName(notename);\n    if (Array.prototype.indexOf.call(this.note_order, target_note) < 0) {\n      console.error(\n        \"Requested Note was not registered. Call setNoteOrder before it.\"\n      );\n      throw \"Requested Note was not registered. Call setNoteOrder before it.\";\n      console.trace();\n    }\n\n    if (this.current_animation.lock) {\n      return false; // do nothing\n    }\n\n    if (this.recent_note === null) {\n      // very first time to start note\n      const next_idx = Array.prototype.indexOf.call(\n        this.note_order,\n        target_note\n      );\n      if (_isFunction(beforeAnimation)) {\n        beforeAnimation();\n      }\n\n      this.current_animation = {\n        ...this.current_animation,\n        start_time: this.time,\n        journey: [],\n        journey_duration: 0,\n        journey_tree: [],\n        journey_segment_counter: [],\n        forward: true,\n        note: target_note,\n        lock: true,\n        afterAnimation\n      };\n      // But not update recent_note. recent_note only updated when note's animation ends.\n    } else {\n      const prev_idx = Array.prototype.indexOf.call(\n        this.note_order,\n        this.recent_note\n      );\n      const next_idx = Array.prototype.indexOf.call(\n        this.note_order,\n        target_note\n      );\n      let journey = [];\n      let journey_segment_counter = [];\n      const forward = prev_idx < next_idx;\n\n      if (_isFunction(beforeAnimation)) {\n        beforeAnimation();\n      }\n\n      if (forward) {\n        // forward\n        journey = this.note_order.filter(\n          (note, idx) => prev_idx < idx && idx < next_idx\n        );\n        journey_segment_counter = journey.map(j => 0);\n      } else {\n        // Backward also when if prev_idx === next_idx\n        journey = this.note_order\n          .filter((note, idx) => next_idx <= idx && idx <= prev_idx)\n          .reverse(); // reverse order\n        journey_segment_counter = journey.map(j => 0);\n      }\n      this.current_animation = {\n        ...this.current_animation,\n        start_time: this.time,\n        journey,\n        ...this.calculateJourneyDuration(\n          journey,\n          this.current_animation.journey_extract_to\n        ),\n        journey_segment_counter,\n        forward,\n        note: target_note,\n        lock: true,\n        afterAnimation\n      };\n    }\n  }\n\n  calculateJourneyDuration(journey, journey_extract_to) {\n    const journey_duration = journey.reduce(\n      (acc, curr) => acc + curr.transition_duration,\n      0\n    );\n\n    /**\n     * For example, if each journey takes 3, 4, 9(sec).\n     * Then, journey_duration must be calculated as 16(=3+4+9)\n     * and according to objective journey traverse time(journey_extract_to=1.0),\n     * each journey_duration_each should be reduced as 3/16, 4/16 and 9/16.\n     */\n    const journey_duration_each = journey.map(j => {\n      return (j.transition_duration / journey_duration) * journey_extract_to;\n    });\n\n    /**\n     * Using given journey_duration_each, we can get accumulated time portion like\n     * [0, 3/16, 7/16, 16/16]\n     */\n    let journey_duration_each_acc = [0];\n    for (let i = 0; i < journey_duration_each.length; i++) {\n      journey_duration_each_acc.push(\n        journey_duration_each_acc[i] + journey_duration_each[i]\n      );\n    }\n\n    /**\n     * For fast search of journey time, preprocessing each journey's start and end time within journey_extract_to\n     */\n    let journey_tree = [];\n    for (let i = 0; i < journey_duration_each_acc.length - 1; i++) {\n      journey_tree.push({\n        start: journey_duration_each_acc[i],\n        end: journey_duration_each_acc[i + 1]\n      });\n    }\n    return {\n      journey_duration,\n      journey_tree\n    };\n  }\n\n  findNoteByName(notename) {\n    const ret = _find(this.notes, note => note.toString() === notename);\n    if (ret === undefined) {\n      console.error(\n        `Note not found(${notename}). Check if it was made without Keynote object or mispell note name.`\n      );\n      throw `Note not found(${notename}). Check if it was made without Keynote object or mispell note name.`;\n      console.trace();\n    }\n    return ret;\n  }\n\n  seekUntil(forward, note, tick, note_objects) {\n    const segment_idx = note.getSegmentIdx(tick);\n    if (forward) {\n      for (let i = 0; i < segment_idx; i++) {\n        if (note.segments[i].end == -1) break;\n        note.seek(note.segments[i].end - 0.00001, note_objects);\n      }\n    } else {\n      for (let i = note.segments.length - 1; i > segment_idx; i--) {\n        if (note.segments[i].end == -1) continue;\n        note.seek(note.segments[i].start, note_objects);\n      }\n    }\n    note.seek(tick, note_objects);\n  }\n\n  visitUnprocessedSegmentsOfJourney(target_journey_idx) {\n    let { forward, journey, journey_segment_counter } = this.current_animation;\n    let new_journey_segment_counter = journey_segment_counter.slice();\n    for (let i = 0; i < target_journey_idx; i++) {\n      const segments_outof_terminate = journey[i].segments.filter(\n        ({ end }) => end != -1\n      );\n\n      if (journey_segment_counter[i] < segments_outof_terminate.length) {\n        this.seekUntil(\n          forward,\n          journey[i],\n          forward ? journey[i].transition_duration - 0.00001 : 0,\n          this.note_objects\n        );\n        new_journey_segment_counter[i] = segments_outof_terminate.length;\n      }\n    }\n    this.current_animation.journey_segment_counter = new_journey_segment_counter; //update\n  }\n\n  render(time) {\n    this.time = time;\n    const {\n      start_time,\n      journey_extract_to,\n      journey,\n      journey_duration,\n      journey_tree,\n      journey_segment_counter,\n      forward,\n      note,\n      lock,\n      recent_journey,\n      afterAnimation\n    } = this.current_animation;\n    const relative_tick = this.time - start_time;\n    if (note === null || !(note instanceof Note)) {\n      console.error(\"Animation target note should be Note instance\");\n      throw \"Animation target note should be Note instance\";\n      console.trace();\n    }\n    if (!lock) {\n      // must be after promised transition\n      if (note !== recent_journey) {\n        if (recent_journey instanceof Note) {\n          recent_journey.seek(\n            forward ? recent_journey.transition_duration - 0.00001 : 0, // (delta: -0.00001) for exclusive to end tick\n            this.note_objects\n          );\n          recent_journey.afterDestroy(forward);\n        }\n\n        note.beforeBuild(forward);\n        this.current_animation.recent_journey = note; // udpate to target note\n      }\n      note.seek(\n        relative_tick - (journey.length > 0 ? journey_extract_to : 0.0), //offset\n        this.note_objects\n      );\n    } else {\n      if (journey.length > 0 && relative_tick <= journey_extract_to) {\n        /**\n         * IN JOURNEY\n         * Using given journey_time_portion_acc, we are able to know which note relative tick should seek.\n         * Also, recalculate tick as journey_tick according to direction(forward or backward) as relative_tick - journey_time_portion_acc[i]\n         * and then multiply it with ratio(time lapse).\n         *\n         * FORWARD\n         * For example, if relative tick is 0.5, it falls into third notes([7/16, 16/16]) and the journey tick reduced as\n         * (1/2 - 7/16) * (16 / 1.0) = 1.(It means when relative tick is at 0.5, it calculated as 1sec after start third note.)\n         *\n         * BACKWARD\n         * For example, if relative tick is 0.5, it falls into third notes([7/16, 16/16]) and the journey tick reduced as\n         * 9(=target_journey.transition_duration) - (1/2 - 7/16) * (16 / 1.0) = 8.(It means when relative tick is at 0.5, it calculated as 1sec after start third note.)\n         */\n        const target_journey_idx = binarySearch(\n          journey_tree,\n          relative_tick,\n          ({ start, end }, tick) => {\n            if (start <= tick && tick <= end) {\n              return 0;\n            } else {\n              if (tick < start) {\n                return -1;\n              } else {\n                return 1;\n              }\n            }\n          }\n        );\n\n        /**\n         *  Check if target journey index jumped over some notes.\n         *  In this case, calculate each one's segments props with its marginal tick\n         *  (forward: end of semgnet / backward: start of segment).\n         */\n        if (\n          (recent_journey instanceof Note &&\n            recent_journey !==\n              journey[target_journey_idx - (forward ? 1 : -1)]) ||\n          target_journey_idx !== 0\n        ) {\n          // handle exception\n          console.log(\n            journey.map(j => j.name),\n            recent_journey.name,\n            target_journey_idx\n          );\n        } else {\n        }\n\n        // Calculate journey tick\n        let journey_tick = 0.0;\n        if (forward) {\n          journey_tick =\n            (relative_tick - journey_tree[target_journey_idx].start) *\n            (journey_duration / journey_extract_to);\n        } else {\n          journey_tick =\n            journey[target_journey_idx].transition_duration -\n            (relative_tick - journey_tree[target_journey_idx].start) *\n              (journey_duration / journey_extract_to);\n        }\n\n        // Cause requestanimationframe pass start and end point of each journey, precalculate this point.\n        if (journey[target_journey_idx] !== recent_journey) {\n          if (recent_journey instanceof Note) {\n            //check if all journey_segemnt_count qualifies segments animations.\n            recent_journey.seek(\n              forward ? recent_journey.transition_duration - 0.00001 : 0, // (delta: -0.00001) for exclusive to end tick\n              this.note_objects\n            );\n            recent_journey.afterDestroy(forward);\n          }\n          journey[target_journey_idx].beforeBuild(forward);\n          this.current_animation.recent_journey = journey[target_journey_idx]; // udpate to target note\n        }\n        journey[target_journey_idx].seek(journey_tick, this.note_objects); // And then, calculate related to current journey_tick.\n      } else {\n        if (note !== recent_journey) {\n          if (recent_journey instanceof Note) {\n            recent_journey.seek(\n              forward ? recent_journey.transition_duration - 0.00001 : 0, // (delta: -0.00001) for exclusive to end tick\n              this.note_objects\n            );\n            recent_journey.afterDestroy(forward);\n          }\n          note.beforeBuild(forward);\n          this.current_animation.recent_journey = note; // udpate to target note\n        }\n        // after journey and mid of target note's transition\n        const target_note_tick =\n          relative_tick - (journey.length > 0 ? journey_extract_to : 0.0);\n        if (target_note_tick >= note.transition_duration) {\n          this.recent_note = note;\n          this.current_animation.lock = false; // release lock\n          afterAnimation();\n        }\n        note.seek(\n          target_note_tick, //offset\n          this.note_objects\n        );\n      }\n    }\n  }\n}\n\nmodule.exports = Keynotes;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;"],"sourceRoot":""}